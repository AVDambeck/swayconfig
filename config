# Autostart
exec mpd

# Var
set $term alacritty
set $menu wofi --show=drun --lines=5 --prompt==""

set $left h
set $down j
set $up k
set $right l

set $color_primary #E62100
set $color_text #FFFFFF
set $color_background #000000
set $color_gray #5C1A19

set $out-left HDMI-A-3
set $out-right HDMI-A-2

# Workspaces
workspace "music" output $out-left
workspace "0l" output $out-left
workspace "1l" output $out-left
workspace "2l" output $out-left
workspace "3l" output $out-left
workspace "4l" output $out-left
workspace "5l" output $out-left
workspace "6l" output $out-left
workspace "7l" output $out-left
workspace "8l" output $out-left
workspace "9l" output $out-left
workspace "0r" output $out-right
workspace "1r" output $out-right
workspace "2r" output $out-right
workspace "3r" output $out-right
workspace "4r" output $out-right
workspace "5r" output $out-right
workspace "6r" output $out-right
workspace "7r" output $out-right
workspace "8r" output $out-right
workspace "9r" output $out-right

# Config
seat * hide_cursor when-typing enable
input * {
	xkb_options caps:hyper
}

output * bg ~/documents/git/swayconfig/wallpaper.jpg fill
output $out-left {
	transform 270
	pos 0,0
}
# Color
client.focused $color_primary $color_background $color_text
client.unfocused $color_gray $color_background $color_text
client.focused_inactive $color_gray $color_background $color_text

# Status Bar:
# Read `man 5 sway-bar` for more information about this section.
bar {
    position bottom

    status_command while echo -e $(if [ "$(mpc current)" != "" ]; then echo $(mpc current -f %artist%) - $(mpc current -f %album%) - $(mpc current -f %title%) - $(mpc status  %currenttime%/%totaltime%) - $(mpc current -f %position%)/$(mpc playlist | wc -l) \|; fi) $(date +'%Y-%m-%d %R') \|; do sleep 1; done

    colors {
        statusline $color_text
        background $color_background
        inactive_workspace $color_gray $color_background $color_text
        active_workspace $color_primary $color_background $color_text
	focused_workspace $color_primary $color_background $color_text
	urgent_workspace $color_background $color_primary $color_text
	binding_mode $color_gray $color_background $color_text
    }
}


mode "default" {
	# modes
	bindsym i mode "interaction mode"
        bindsym r mode "resize mode"
	bindsym a mode "arrow mode"
	bindsym Space exec $menu; mode "interaction mode"

        # Tools
 	bindsym t exec $term; mode "interaction mode"
	bindsym Shift+x kill
	## Screenshot
       	bindsym p exec grim -g "$(slurp)" - | swappy -f - -o ~/temp/$(date +%y-%m-%d_%h:%m:%S).png
	## edit config
	# bindsym c exec $term -e vim .config/sway/config; mode "interaction mode"
	## page up and down
	bindsym d exec wtype -P Next
	bindsym Shift+d exec wtype -P Prior
	# Special keys to adjust brightness via brightnessctl
	bindsym --locked b exec brightnessctl set 5%-
	bindsym --locked Shift+b exec brightnessctl set 5%+


    	# Movement
        bindsym $left focus left
        bindsym $down focus down
        bindsym $up focus up
        bindsym $right focus right

	bindsym Tab focus next
	bindsym Shift+Tab focus prev

        bindsym Shift+$left move left
        bindsym Shift+$down move down
        bindsym Shift+$up move up
        bindsym Shift+$right move right

        bindsym shift+s splith
        bindsym s splitv
        bindsym f fullscreen
    
        # Workspace
	bindsym m workspace "music"
        bindsym 0 workspace "0l"; workspace "0r";
        bindsym 1 workspace "1l"; workspace "1r";
        bindsym 2 workspace "2l"; workspace "2r";
        bindsym 3 workspace "3l"; workspace "3r";
        bindsym 4 workspace "4l"; workspace "4r";
        bindsym 5 workspace "5l"; workspace "5r";
        bindsym 6 workspace "6l"; workspace "6r";
        bindsym 7 workspace "7l"; workspace "7r";
        bindsym 8 workspace "8l"; workspace "8r";
        bindsym 9 workspace "9l"; workspace "9r";

        bindsym Shift+0 move container to workspace "0r"
        bindsym Shift+1 move container to workspace "1r"
        bindsym Shift+2 move container to workspace "2r"
        bindsym Shift+3 move container to workspace "3r"
        bindsym Shift+4 move container to workspace "4r"
        bindsym Shift+5 move container to workspace "5r"
        bindsym Shift+6 move container to workspace "6r"
        bindsym Shift+7 move container to workspace "7r"
        bindsym Shift+8 move container to workspace "8r"
        bindsym Shift+9 move container to workspace "9r"

        bindsym Alt+0 move container to workspace "0l"
        bindsym Alt+1 move container to workspace "1l"
        bindsym Alt+2 move container to workspace "2l"
        bindsym Alt+3 move container to workspace "3l"
        bindsym Alt+4 move container to workspace "4l"
        bindsym Alt+5 move container to workspace "5l"
        bindsym Alt+6 move container to workspace "6l"
        bindsym Alt+7 move container to workspace "7l"
        bindsym Alt+8 move container to workspace "8l"
        bindsym Alt+9 move container to workspace "9l"

	# unused 
	bindsym q exec ""
	bindsym w exec ""
	bindsym e exec ""
	bindsym y exec ""
	bindsym u exec ""
	bindsym o exec ""
	bindsym g exec ""
	bindsym z exec ""
	bindsym x exec ""
	bindsym c exec ""
	bindsym v exec ""
	bindsym n exec ""
}

# Focus
mode "interaction mode" {
	# Reload 
	bindsym Mod4+Shift+c reload
	bindsym Mod4+c exec $term -e vim .config/sway/config

	# Modes
	bindsym hyper_l mode "default"

	# Exitl
	bindsym Mod4+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -B 'Yes, exit sway' 'swaymsg exit'

	# focus
	bindsym Mod4+$left focus left
	bindsym Mod4+$down focus down
	bindsym Mod4+$up focus up
	bindsym Mod4+$right focus right

	# Tools
	bindsym Alt+Tab focus next
	bindsym Shift+Alt+Tab focus prev 
	bindsym Mod4+Return exec $term
	bindsym Mod4+Shift+q kill
	bindsym Mod4+d exec $menu

	# Make the current focus fullscreen
	bindsym Mod4+f fullscreen
}

# Resize
mode "resize mode" {
    set $resizeunit 50px
    bindsym $left resize shrink width $resizeunit
    bindsym $down resize grow height $resizeunit
    bindsym $up resize shrink height $resizeunit
    bindsym $right resize grow width $resizeunit

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# Arrow
mode "arrow mode" {
    bindsym Escape mode "default"
    bindsym hyper_l mode "default"
    bindsym i mode "interaction mode"
    bindsym v mode "selection"

    bindsym $left exec wtype -P Left 
    bindsym $right exec wtype -P Right 
    bindsym $up exec wtype -P Up 
    bindsym $down exec wtype -P Down 

    bindsym 0 exec wtype -P Home
    bindsym dollar exec wtype -P End 
    bindsym b exec wtype -M ctrl -P left
    bindsym e exec wtype -M ctrl -P right

    bindsym Shift+j exec wtype -P Next
    bindsym Shift+k exec wtype -P Prior

    bindsym y exec wtype -M ctrl c 
    bindsym Shift+y exec wtype -M ctrl x 
    bindsym p exec wtype -M ctrl v 
    bindsym u exec wtype -M ctrl z 
    bindsym Shift+u exec wtype -M ctrl -M shift z 
}

# Selection
mode selection {
    bindsym $left exec wtype -M shift -P Left 
    bindsym $right exec wtype -M shift -P Right 
    bindsym $up exec wtype -M shift -P Up 
    bindsym $down exec wtype -M shift -P Down 

    bindsym 0 exec wtype -M shift -P Home
    bindsym dollar exec wtype -M shift -P End 

    bindsym b exec wtype -M ctrl -M shift -P left
    bindsym e exec wtype -M ctrl -M shift -P right

    bindsym ctrl+$up exec wtype -M ctrl -M shift -P Up 
    bindsym ctrl+$down exec wtype -M ctrl -M shift -P Down 

    bindsym Escape mode "arrow mode"
    bindsym v mode "arrow mode"
    bindsym hyper_l "default"
}

# Music
mode music {
    bindsym $left exec mpc prev
    bindsym $down exec mpc pause
    bindsym $up exec mpc play
    bindsym $right exec mpc next
    bindsym Shift+$left exec mpc seek -30
    bindsym Shift+$right exec mpc seek +30
#    bindsym a exec $term -e imv "$(echo /home/carrieanne/music/$(mpc current -f "%file%" | sed 's/\/[^\/]*$//'))"/*.{jpg,jpeg,png,gif,bmp,webm}
    bindsym m exec xdg-open ~/documents/music.ods
    bindsym t exec ario
    bindsym semicolon exec $term --working-directory ~/music
    bindsym Escape mode "default"
}

# Utilities:
#
    # Special keys to adjust volume via PulseAudio
    bindsym --locked XF86AudioMute exec pactl set-sink-mute \@DEFAULT_SINK@ toggle
    bindsym --locked XF86AudioLowerVolume exec pactl set-sink-volume \@DEFAULT_SINK@ -5%
    bindsym --locked XF86AudioRaiseVolume exec pactl set-sink-volume \@DEFAULT_SINK@ +5%
    bindsym --locked XF86AudioMicMute exec pactl set-source-mute \@DEFAULT_SOURCE@ toggle
    # Special keys to adjust brightness via brightnessctl
    bindsym --locked XF86MonBrightnessDown exec brightnessctl set 5%-
    bindsym --locked XF86MonBrightnessUp exec brightnessctl set 5%+

include /etc/sway/config.d/*




